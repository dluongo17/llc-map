<!DOCTYPE html>
<html>
<head>
  <meta charset="utf-8" />
  <title>PMTiles Map</title>
  <link href="https://cdn.jsdelivr.net/npm/maplibre-gl@3.5.2/dist/maplibre-gl.css" rel="stylesheet" />
  <style>
    body { margin: 0; padding: 0; }
    #map { width: 100vw; height: 100vh; }
  </style>
</head>
<body>
<div id="map"></div>
<script type="module">
  import * as pmtiles from "https://cdn.jsdelivr.net/npm/pmtiles@3.4.1/dist/pmtiles.js";;
  import maplibregl from "https://cdn.jsdelivr.net/npm/maplibre-gl@3.5.2/dist/maplibre-gl.js";

  const protocol = new pmtiles.Protocol();
  maplibregl.addProtocol("pmtiles", protocol.tile);

  const map = new maplibregl.Map({
    container: "map",
    style: {
      version: 8,
      sources: {
        llc: {
          type: "vector",
          url: "pmtiles://https://dluongo17.github.io/llc-map/llc.pmtiles"
        }
      },
      layers: [
        {
          id: "llc-fill",
          type: "fill",
          source: "llc",
          "source-layer": "lad",
          paint: {
            "fill-color": [
              "match",
              ["get", "type"],
              "LLC", "#ff0000",
              "#888888"
            ],
            "fill-opacity": 0.7
          }
        }
      ]
    },
    center: [-73.95, 40.7],
    zoom: 10
  });
</script>
</body>
</html>
