<!DOCTYPE html>
<html>
<head>
<meta charset="utf-8" />
<title>PMTiles Map</title>

<script type="module">
  import * as pmtiles from "https://cdn.jsdelivr.net/npm/pmtiles@3.4.1/dist/index.js";
  import maplibregl from "https://cdn.jsdelivr.net/npm/maplibre-gl@3.5.2/dist/maplibre-gl.js";

  // Attach MapLibre to window so the rest of the script can find it
  window.maplibregl = maplibregl;

  // Register PMTiles protocol
  const protocol = new pmtiles.Protocol();
  maplibregl.addProtocol("pmtiles", protocol.tile);

  // Point to your PMTiles file
  const p = new pmtiles.PMTiles("llc.pmtiles");

  const map = new maplibregl.Map({
    container: "map",
    style: {
      version: 8,
      sources: {
        llc: {
          type: "vector",
          url: "pmtiles://llc.pmtiles"
        }
      },
      layers: [
        {
          id: "llc-fill",
          type: "fill",
          source: "llc",
          "source-layer": "lad",
          paint: {
            "fill-color": [
              "match",
              ["get", "type"],
              "LLC", "#ff0000",
              "#888888"
            ],
            "fill-opacity": 0.7
          }
        }
      ]
    },
    center: [-73.95, 40.7],
    zoom: 10
  });
</script>

<link href="https://cdn.jsdelivr.net/npm/maplibre-gl@3.5.2/dist/maplibre-gl.css" rel="stylesheet" />

<style>
  body { margin: 0; padding: 0; }
  #map { width: 100vw; height: 100vh; }
</style>

</head>

<body>
<div id="map"></div>
</body>
</html>